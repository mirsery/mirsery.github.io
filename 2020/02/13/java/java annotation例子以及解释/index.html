<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> java Annotation示例 · mirsery</title><meta name="description" content="java Annotation示例 - mirsery"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.ico"><link rel="stylesheet" href="/css/prontera.css"><link rel="stylesheet" href="/css/dracula.css"><link rel="search" type="application/opensearchdescription+xml" href="https://mirsery.github.io/atom.xml" title="mirsery"><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="mirsery" type="application/atom+xml">
</head><body><header class="feature-header"><nav class="component-nav"><ul><div class="logo-container"><a href="/"><h2 class="title">mirsery</h2></a></div><a class="li component-nav-item" href="/" target="_self"><p>HOME</p></a><a class="li component-nav-item" href="/archives" target="_self"><p>ARCHIVES</p></a><a class="li component-nav-item" href="/categories" target="_self"><p>CATEGORIES</p></a><a class="li component-nav-item" href="/tags" target="_self"><p>TAGS</p></a><ul class="shortcut-icons"><a href="https://github.com/mirsery" target="_blank"><img class="icon" src="/images/github.svg"></a><a href="/atom.xml" target="_blank"><img class="icon" src="/images/rss.svg"></a><a href="https://www.zhihu.com/people/mirsery" target="_blank"><img class="icon" src="/images/zhihu.svg"></a></ul></ul></nav></header><main class="container"><div id="post-container"><div class="post article post-block"><h1 class="post-title">java Annotation示例</h1><div class="post-info">2020年2月14日</div><div class="post-content"><h1><span id="annotation">Annotation</span></h1><p>From Core Java SE9 for the Impatient Annotations are tags that you insert into your source code so that some tool can process them. The tools can operate on the source level, or they can process class files into which the compiler has placed annotations.<br>Annotations do not change the way your programs are compiled. The Java compiler generates the same virtual machine instructions with or without the annotations.<br>To benefit from annotations, you need to select a processing tool and use annotations that your processing tool understands, before you can apply that tool to your code.<br>There is a wide range of uses for annotations. For example, JUnit uses annotations to mark methods that execute tests and to specify how the tests should be run. The Java Persistence Architecture uses annotations to define mappings between classes and database tables, so that objects can be persisted automatically without the developer having to write SQL queries.</p>
<!-- toc -->

<ul>
<li><a href="#using-annotations">using Annotations</a><ul>
<li><a href="#simple-annotation">simple annotation</a></li>
<li><a href="#annotation-elements">annotation elements</a></li>
<li><a href="#multilple-and-repeated-annotations">Multilple and Repeated Annotations</a></li>
<li><a href="#annotating-declarations">Annotating Declarations</a></li>
<li><a href="#annotating-type-users">Annotating Type Users</a></li>
<li><a href="#making-receivers-explicit">Making Receivers Explicit</a></li>
</ul>
</li>
<li><a href="#defineing-annotations">defineing Annotations</a></li>
<li><a href="#annotations-for-compilation">Annotations for Compilation</a></li>
<li><a href="#annotations-for-managing-resources">Annotations for Managing Resources</a></li>
</ul>
<!-- tocstop -->

<h2><span id="using-annotations">using Annotations</span></h2><h3><span id="simple-annotation">simple annotation</span></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CacheTest</span> </span>&#123;<br>    ...<br>    <span class="hljs-meta">@Test</span> <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">checkRandomInsertions</span><span class="hljs-params">()</span></span><br><span class="hljs-function">&#125;</span><br></code></pre></td></tr></table></figure>
<h3><span id="annotation-elements">annotation elements</span></h3><p>Annotation can hava key/value pairs called elements,such as<br>@Test(timeout=10000)<br>An annotation element is one of the following:<br>• A primitive type value<br>• A String<br>• A Class object<br>• An instance of an enum<br>• An annotation<br>• An array of the preceding (but not an array of arrays)</p>
<h3><span id="multilple-and-repeated-annotations">Multilple and Repeated Annotations</span></h3><p>An item can have multiple annotations:<br>@Test<br>@BugReport(showStopper=true,reportedBy=”Joe”)<br>public void checkRandomInsertions( )<br>If the author of an annotation declared it to be repeatable, you can repeat the same annotation multiple times:<br>@BugReport(showStopper=true, reportedBy=”Joe”)<br>@BugReport(reportedBy={“Harry”, “Carl”})<br>public void checkRandomInsertions()</p>
<h3><span id="annotating-declarations">Annotating Declarations</span></h3><p>They fail into two categories : <code>declarations</code> and <code> type uses</code>.Declaration annotations can appear at the declarations of  </p>
<ul>
<li>Classes(including enum) and interfaces (including annotation interfaces)</li>
<li>Methods</li>
<li>Constructors</li>
<li>Instance variable (including enum constants)</li>
<li>Local variables (including those deckared in for and try-with-resources statements)</li>
<li>Parameter variables and catch clasuse parameters</li>
<li>Type parameters</li>
<li>Packages<h3><span id="annotating-type-users">Annotating Type Users</span></h3>A declaration annotation provides some information about the item being declared.<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> User <span class="hljs-title">getUser</span><span class="hljs-params">(<span class="hljs-meta">@NotNull</span> String userId)</span></span><br></code></pre></td></tr></table></figure>
It is arrerted that userId parameter is not null.<h3><span id="making-receivers-explicit">Making Receivers Explicit</span></h3>Suppose you want to annotate parameters that are not being mutated by a method.</li>
</ul>
<h2><span id="defineing-annotations">defineing Annotations</span></h2><p>@Target(ElementType.METHOD)<br>@Retention(RetentionPolicy.RUNTIME)<br>public @interface Test {<br>    long timeout();<br>    …<br>}<br>The @interface declaration creates an actual Java interface. Tools that process annotations receive objects that implement the annotation interface. When the JUnit test runner tool gets an object that implements Test, it simply invokes the timeout method to retrieve the timeout element of a particular Test annotation.</p>
<h2><span id="annotations-for-compilation">Annotations for Compilation</span></h2><p>The @Deprecated annotation can be attached to any items whose use is no longer encouraged. The compiler will warn when you use a deprecated item. This annotation has the same role as the @deprecated Javadoc tag. However, the annotation persists until runtime.</p>
<h2><span id="annotations-for-managing-resources">Annotations for Managing Resources</span></h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">@Resource(name=&quot;jdbc/employeedb&quot;)<br>private DataSource source;<br></code></pre></td></tr></table></figure>
</div></div><div id="disqus_thread"></div></div><script>var disqus_shortname = 'mirsery';
var disqus_identifier = '2020/02/13/java/java annotation例子以及解释/';
var disqus_title = 'java Annotation示例';
var disqus_url = 'https://mirsery.github.io/2020/02/13/java/java annotation例子以及解释/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//#{theme.disqus}.disqus.com/count.js" async></script></main><footer class="footer-container"><div class="paginator"><a class="prev" href="/2020/02/20/java/springCloud%E9%85%8D%E7%BD%AE/">上一篇</a><a class="next" href="/2020/02/13/java/springboot%20%E7%BB%84%E5%90%88%E6%B3%A8%E8%A7%A3%E5%92%8C%E5%85%83%E6%B3%A8%E8%A7%A3/">下一篇</a></div><div class="copyright"><p>© 2015 - 2021 <a href="https://mirsery.github.io">mirsery</a> </p><p>powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and  <a href="https://github.com/AngryPowman/hexo-theme-prontera" target="_blank">hexo-theme-prontera</a></p></div></footer><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"mirsery",'auto');ga('send','pageview');</script></body></html>