---
date: 2016-08-06 14:04
status: public
tags: 
    - git
title: git一些常用的命令
---

<!-- toc -->

# .gitignore文件的格式规范格式

- 所有的空行或者以注释符号#开头的行都会被Git忽略。
- 可以使用标准的glob模式匹配
- 匹配模式最后跟反斜杠（/）说明要忽略的是目录
- 要忽略指定模式意外的文件或者目录，可以在模式前面加上惊叹号（！）取反。

所谓的 glob 模式是指 shell 所使用的简化了的正则表达式。星号（*）匹配零个或多个任意字符；[abc] 匹配任何一个列在方括号中的字符（这个例子要么匹配一个 a，要么匹配一个 b，要么匹配一个 c）；问号（?）只匹配一个任意字符；如果在方括号中使用短划线分隔两个字符，表示所有在这两个字符范围内的都可以匹配（比如 [0-9] 表示匹配所有 0 到 9 的数字）。


# git rm 命令
我们想把文件从 Git 仓库中删除（亦即从暂存区域移除），但仍然希望保留在当前工作目录中。换句话说，仅是从跟踪清单中删除。比如一些大型日志文件或者一堆 .a 编译文件，不小心纳入仓库后，要移除跟踪但不删除文件，以便稍后在 .gitignore 文件中补上，用 --cached 选项即可：

```bash
git rm --cached readme.txt
```
# git log
```bash
git mv --- 对文件的改名
git log 查看历史提交记录
git log -p -2 显示最近两次提交内容的差异 
```
在做代码审查，或者要快速浏览其他协作者提交的更新都作了哪些改动时，就可以用这个选项。此外，还有许多摘要选项可以用，比如 --stat，仅显示简要的增改行数统计：
```bash
git log --stat
```

# 撤销操作
- 修改最后一次提交
有时候我们提交完了才发现漏掉了几个文件没有加，或者提交信息写错了。想要撤消刚才的提交操作，可以使用 --amend 选项重新提交：

```bash   
git commit --amend
```

此命令将使用当前的暂存区域快照提交。如果刚才提交完没有作任何改动，直接运行此命令的话，相当于有机会重新编辑提交说明，而所提交的文件快照和之前的一样。
启动文本编辑器后，会看到上次提交时的说明，编辑它确认没问题后保存退出，就会使用新的提交说明覆盖刚才失误的提交。
如果刚才提交时忘了暂存某些修改，可以先补上暂存操作，然后再运行 --amend 提交：

```bash
git commit -m 'initial commit'
git add forgotten_file
git commit --amend
```
# 取消已经暂存的文件
```bash
git reset HEAD <file>
```
   
# 取消对文件的修改
```bash
git checkout <file>
```
  